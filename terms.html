<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>Terms of Service | DuoGlobal</title>
  <meta name="theme-color" content="#0052CC" />

  <!-- Icons & Fonts -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">

  <!-- PWA Manifest & Icons -->
  <link rel="manifest" href="./manifest.json">
  <link rel="icon" type="image/png" sizes="192x192" href="assets/images/icon-192.png">
  <link rel="apple-touch-icon" href="assets/images/icon-192.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <style>
    :root {
      --primary: #0052CC;
      --primary-dark: #003E99;
      --bg-light: #f8fafc;
      --white: #ffffff;
      --text-dark: #1e293b;
      --text-grey: #64748b;
      --border: rgba(0,0,0,0.05);
      
      --glass-bg: rgba(255, 255, 255, 0.95);
      --shadow-card: 0 10px 30px rgba(0,0,0,0.06);
      --border-radius: 20px;
      --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: "Inter", sans-serif;
      background: url('assets/images/background.png') repeat, var(--bg-light);
      background-size: 400px;
      color: var(--text-dark);
      padding-bottom: 120px;
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      opacity: 0;
      animation: fadeInPage 0.6s ease-out forwards;
    }

    @keyframes fadeInPage { to { opacity: 1; } }

    /* PRELOADER */
    #preloader {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: #fff; z-index: 9999;
        display: flex; justify-content: center; align-items: center;
        transition: opacity 0.5s ease;
    }
    .loader {
        width: 40px; height: 40px; border: 4px solid #e2e8f0;
        border-top-color: var(--primary); border-radius: 50%;
        animation: spin 0.8s linear infinite;
    }

    /* HEADER */
    header {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
      padding: 50px 20px;
      text-align: center;
      border-bottom: 1px solid rgba(255,255,255,0.5);
      box-shadow: 0 4px 20px rgba(0,0,0,0.02);
      animation: slideDown 0.8s ease-out;
    }
    header h1 { 
        font-family: 'Playfair Display', serif; 
        font-size: 2.2rem; font-weight: 700; 
        color: var(--text-dark); margin-bottom: 10px; 
    }
    header p { color: var(--text-grey); font-size: 1rem; font-weight: 300; }

    .last-updated {
      display: inline-block;
      background: rgba(0,82,204,0.1);
      color: var(--primary);
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
      margin-bottom: 10px;
      border: 1px solid rgba(0,82,204,0.15);
    }

    /* LAYOUT GRID */
    .container {
      max-width: 1000px;
      margin: 40px auto;
      display: grid;
      grid-template-columns: 260px 1fr;
      gap: 40px;
      padding: 0 20px;
    }

    /* SIDEBAR NAV (Sticky) */
    .toc {
      position: sticky;
      top: 30px;
      height: fit-content;
      background: var(--glass-bg);
      padding: 25px;
      border-radius: var(--border-radius);
      border: 1px solid rgba(255,255,255,0.8);
      box-shadow: var(--shadow-card);
      backdrop-filter: blur(10px);
      animation: slideInLeft 0.8s ease-out 0.2s backwards;
    }
    .toc h3 { font-size: 0.85rem; text-transform: uppercase; color: var(--text-grey); margin-bottom: 18px; letter-spacing: 0.05em; font-weight: 700; }
    .toc ul { list-style: none; }
    .toc li { margin-bottom: 12px; }
    .toc a {
      text-decoration: none;
      color: var(--text-dark);
      font-size: 0.95rem;
      font-weight: 500;
      transition: var(--transition);
      display: block;
      padding-left: 10px;
      border-left: 3px solid transparent;
    }
    .toc a:hover { color: var(--primary); transform: translateX(5px); }
    .toc a.active { color: var(--primary); font-weight: 700; border-left-color: var(--primary); }

    /* CONTENT AREA */
    .content {
      background: var(--glass-bg);
      padding: 50px;
      border-radius: var(--border-radius);
      box-shadow: var(--shadow-card);
      border: 1px solid rgba(255,255,255,0.8);
      backdrop-filter: blur(10px);
      animation: slideUp 0.8s ease-out 0.4s backwards;
    }
    .content h2 { 
        font-family: 'Playfair Display', serif;
        font-size: 1.6rem; color: var(--primary); 
        margin-top: 40px; margin-bottom: 15px; 
        padding-bottom: 10px; border-bottom: 1px solid rgba(0,0,0,0.05); 
    }
    .content h2:first-child { margin-top: 0; }
    .content p { margin-bottom: 18px; color: var(--text-dark); opacity: 0.9; }
    .content ul { margin-bottom: 25px; padding-left: 20px; }
    .content li { margin-bottom: 10px; color: var(--text-dark); opacity: 0.9; }

    .dynamic-contact {
        background: rgba(241, 245, 249, 0.7);
        padding: 25px;
        border-radius: 12px;
        font-size: 0.95rem;
        border: 1px solid rgba(0,0,0,0.05);
    }

    /* MOBILE ADAPTATION */
    @media (max-width: 800px) {
      .container { grid-template-columns: 1fr; margin: 20px auto; }
      .toc { display: none; }
      .content { padding: 30px 25px; }
      header h1 { font-size: 1.8rem; }
    }

    /* BOTTOM NAV (Auto-Hide) */
    .bottom-nav {
      position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
      width: 92%; max-width: 500px;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
      display: flex; justify-content: space-between; align-items: center;
      padding: 12px 25px; border-radius: 30px; z-index: 100;
      box-shadow: 0 10px 40px rgba(0,0,0,0.1);
      border: 1px solid rgba(255,255,255,0.5);
      transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    }
    
    .bottom-nav.hidden { transform: translateX(-50%) translateY(200%); }

    .nav-item { text-decoration: none; color: #94a3b8; display: flex; flex-direction: column; align-items: center; gap: 5px; font-size: 0.7rem; font-weight: 600; transition: 0.3s; flex: 1; }
    .nav-item i { font-size: 1.3rem; transition: 0.3s; }
    .nav-item:hover { color: var(--primary); }
    .nav-item:hover i { transform: translateY(-2px); }

    /* Animations */
    @keyframes slideDown { from { opacity: 0; transform: translateY(-30px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes slideInLeft { from { opacity: 0; transform: translateX(-30px); } to { opacity: 1; transform: translateX(0); } }
    @keyframes spin { to { transform: rotate(360deg); } }

  </style>
</head>
<body>

  <!-- Preloader -->
  <div id="preloader">
      <div class="loader"></div>
  </div>

  <header>
    <span class="last-updated">Last Updated: November 2025</span>
    <h1>Terms of Service</h1>
    <p>Please read these terms carefully before using DuoGlobal.</p>
  </header>

  <div class="container">
    
    <!-- Sidebar Navigation -->
    <aside class="toc">
      <h3>Table of Contents</h3>
      <ul>
        <li><a href="#acceptance" class="active">1. Acceptance of Terms</a></li>
        <li><a href="#eligibility">2. Eligibility</a></li>
        <li><a href="#accounts">3. User Accounts</a></li>
        <li><a href="#conduct">4. User Conduct</a></li>
        <li><a href="#payments">5. Payments & Refunds</a></li>
        <li><a href="#liability">6. Limitation of Liability</a></li>
        <li><a href="#termination">7. Termination</a></li>
        <li><a href="#contact">8. Contact Us</a></li>
      </ul>
    </aside>

    <!-- Main Text Content -->
    <main class="content">
      
      <h2 id="acceptance">1. Acceptance of Terms</h2>
      <p>By accessing or using the DuoGlobal website and services ("Service"), you agree to be bound by these Terms of Service ("Terms"). If you disagree with any part of the terms, you may not access the Service.</p>

      <h2 id="eligibility">2. Eligibility</h2>
      <p>You must be at least 18 years old to create an account on DuoGlobal. By creating an account, you represent and warrant that you have the right, authority, and capacity to enter into this Agreement and to abide by all of the terms and conditions of this Agreement.</p>

      <h2 id="accounts">3. User Accounts & Security</h2>
      <p>When you create an account with us, you must provide information that is accurate, complete, and current at all times. Failure to do so constitutes a breach of the Terms, which may result in immediate termination of your account.</p>
      <ul>
        <li>You are responsible for safeguarding the password that you use to access the Service.</li>
        <li>You agree not to disclose your password to any third party.</li>
        <li>You must notify us immediately upon becoming aware of any breach of security or unauthorized use of your account.</li>
      </ul>

      <h2 id="conduct">4. User Conduct</h2>
      <p>We are committed to a respectful community. You agree not to:</p>
      <ul>
        <li>Harass, abuse, or harm another person.</li>
        <li>Use the Service for any illegal or unauthorized purpose.</li>
        <li>Create false identities or impersonate any person or entity.</li>
        <li>Attempt to solicit money or defraud other users.</li>
      </ul>

      <h2 id="payments">5. Payments & Refunds</h2>
      <p>Certain aspects of the Service may be provided for a fee. If you elect to use paid features, you agree to the pricing and payment terms as we may update them from time to time. All purchases are final and non-refundable, except as required by applicable law.</p>

      <h2 id="liability">6. Limitation of Liability</h2>
      <p>DuoGlobal is a platform for connecting individuals. We do not perform background checks on all users and are not responsible for the conduct of any user on or off the Service. You agree to use caution in all interactions with other users, particularly if you decide to communicate off the Service or meet in person.</p>

      <h2 id="termination">7. Termination</h2>
      <p>We may terminate or suspend access to our Service immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms.</p>

      <h2 id="contact">8. Contact Us</h2>
      <p>If you have any questions about these Terms, please contact us using the details below:</p>
      
      <!-- Dynamic Contact Info Section -->
      <div class="dynamic-contact" id="dynamicContactBox">
        <i class="fas fa-spinner fa-spin"></i> Loading contact information...
      </div>

    </main>
  </div>

  <!-- Bottom Navigation (Auto-Hide) -->
  <nav class="bottom-nav" id="bottomNav">
    <a href="index.html" class="nav-item"><i class="fas fa-home"></i><span>Home</span></a>
    <a href="dashboard.html" class="nav-item"><i class="fas fa-search"></i><span>Browse</span></a>
    <a href="my-connections.html" class="nav-item"><i class="fas fa-heart"></i><span>Matches</span></a>
    <a href="chat.html" class="nav-item"><i class="fas fa-comment-dots"></i><span>Chat</span></a>
    <a href="user-profile.html" class="nav-item"><i class="fas fa-user-circle"></i><span>Profile</span></a>
  </nav>

  <!-- FIREBASE & SCROLL SCRIPTS -->
  <script type="module">
    import { db } from './config.js'; 
    import { doc, getDoc } from 'https://www.gstatic.com/firebasejs/12.8.0/firebase-firestore.js';

    const preloader = document.getElementById('preloader');

    // Remove Preloader
    window.addEventListener('load', () => {
        preloader.style.opacity = '0';
        setTimeout(() => preloader.style.display = 'none', 500);
    });

    // 1. Smooth Scroll & Active State Logic
    const sections = document.querySelectorAll('.content h2');
    const navLinks = document.querySelectorAll('.toc a');

    // Click handling
    navLinks.forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            document.querySelector(targetId).scrollIntoView({
                behavior: 'smooth'
            });
            // Update active immediately
            navLinks.forEach(a => a.classList.remove('active'));
            this.classList.add('active');
        });
    });

    // Scroll handling (Intersection Observer for Active State)
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                navLinks.forEach(a => {
                    a.classList.remove('active');
                    if(a.getAttribute('href') === '#' + entry.target.id) {
                        a.classList.add('active');
                    }
                });
            }
        });
    }, { rootMargin: '-100px 0px -60% 0px' });

    sections.forEach(section => observer.observe(section));


    // 2. Fetch Contact Info from Admin Settings
    async function loadTermsContactInfo() {
        const contactBox = document.getElementById('dynamicContactBox');
        try {
            const docRef = doc(db, "settings", "contact");
            const docSnap = await getDoc(docRef);

            if (docSnap.exists()) {
                const data = docSnap.data();
                contactBox.innerHTML = `
                    <div style="margin-bottom:8px;"><strong style="color:var(--primary);">Email:</strong> ${data.supportEmail || 'support@duoglobal.com'}</div>
                    <div><strong style="color:var(--primary);">Address:</strong> ${data.location || 'Global Head Office'}</div>
                `;
            } else {
                contactBox.innerHTML = `
                    <div style="margin-bottom:8px;"><strong style="color:var(--primary);">Email:</strong> support@duoglobal.com</div>
                    <div><strong style="color:var(--primary);">Address:</strong> Global Head Office, London, UK</div>
                `;
            }
        } catch (error) {
            console.error("Error loading contact info:", error);
            contactBox.innerHTML = "Unable to load contact details at this time.";
        }
    }

    // Initialize fetch
    loadTermsContactInfo();

  </script>

  <!-- UI INTERACTION SCRIPT (Nav Auto-Hide & PWA) -->
  <script>
      document.addEventListener('DOMContentLoaded', () => {
          // 1. Auto-Hide Bottom Nav Logic
          const bottomNav = document.getElementById('bottomNav');
          let lastScroll = 0;

          window.addEventListener('scroll', () => {
              const currentScroll = window.pageYOffset;
              
              if (currentScroll <= 0) {
                  bottomNav.classList.remove('hidden');
              } else {
                  if (currentScroll > lastScroll && currentScroll > 50) {
                      // Scrolling DOWN -> Hide
                      bottomNav.classList.add('hidden');
                  } else {
                      // Scrolling UP -> Show
                      bottomNav.classList.remove('hidden');
                  }
              }
              lastScroll = currentScroll;
          });
          
          if("serviceWorker" in navigator) {
              navigator.serviceWorker.register("./service-worker.js").catch(e => console.log("SW Error:", e));
          }
      });
  </script>

</body>
</html>
